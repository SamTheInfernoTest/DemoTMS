import{u as j,a as v,r as t,j as e,c as k}from"./index-Ci3233eU.js";import{Q as w,B as a}from"./react-toastify.esm-CZEk71Ew.js";function S(){const{theme:c,baseApiUrl:m}=j(),{loginTheUser:x,rememberMe:i,setRememberMe:g}=v(),[r,d]=t.useState(""),[o,h]=t.useState(""),[l,b]=t.useState(""),[u,f]=t.useState(!1),n=localStorage.getItem("userSelection");t.useEffect(()=>{d(n)},[n]);function p(){o&&l&&r!=""&&r!=null?k.post(`${m}/${r}/login/`,{uid:o,password:l}).then(s=>s.data).then(s=>{a.success("Login Successful",{containerId:"login",toastId:"loginSuccess"}),x(r,o,s.name,s.profileImage,s.standards,s.refresh,s.access,s.bgImage,s.moto)}).catch(s=>{console.log(s.response.data.message),a.error(s.response.data.message,{containerId:"login",toastId:"loginError"})}):a.info("Please enter UID, Password and Select type of User",{containerId:"login",toastId:"notFullyFilled"})}return e.jsxs("div",{className:"flex h-screen bg-lightBg dark:bg-darkBg",children:[e.jsx(w,{containerId:"login",position:"top-right",limit:3,theme:c}),e.jsx("div",{className:"w-1/2 bg-cover bg-center sm:flex items-center justify-center  hidden",children:e.jsx("img",{src:c==="dark"?"/whitetms.svg":"/blacktms.svg",alt:"TMSLogo"})}),e.jsx("div",{className:"sm:w-1/2 w-full flex items-center justify-center p-8 bg-lightHeader dark:bg-darkHeader",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Welcome to TMS"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Login as"}),e.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-lightText",defaultValue:n,onChange:s=>{localStorage.setItem("userSelection",s.target.value),d(s.target.value)},children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"mentor",children:"Mentor"}),e.jsx("option",{value:"student",children:"Student"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"UID"}),e.jsx("input",{type:"text",className:"text-lightText mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:o,onChange:s=>{h(s.target.value)}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"block text-sm font-medium ",children:"Password"})," ",e.jsx("input",{type:"checkbox",onChange:()=>f(!u)})]}),e.jsx("input",{type:u?"text":"password",className:"text-lightText mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 cursor-[]",value:l,onChange:s=>{b(s.target.value)}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"rememberMe",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:i,onChange:s=>{g(!i)}}),e.jsx("label",{className:"ml-2 block text-sm ",htmlFor:"rememberMe",children:"Remember me"})]}),e.jsx("button",{type:"submit",className:"ml-auto dark:bg-darkButton bg-lightButton px-6 py-2 rounded-full dark:text-[#DFF2EB] text-white hover:ring dark:hover:ring-darkHover hover:ring-darkHover font-semibold",onClick:s=>{s.preventDefault(),p()},children:"Login"})]}),e.jsx("div",{className:"text-center mt-4 ",children:e.jsx("a",{href:"/register",className:"text-blue-600 hover:text-blue-800 dark:text-darkText hover:dark:text-darkText dark:hover:underline",children:"Not registered? Sign up here"})})]})]})})]})}export{S as default};
